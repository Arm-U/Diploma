2025-05-10 22:41:20 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 5 cards
2025-05-10 22:41:20 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=English, target_lang=Russian, secondary_lang=German, model=gpt-4o, batch_size=1
2025-05-10 22:41:24 - INFO - [batch_card_generation_pipeline.py:515] - Batch 1 completed successfully
2025-05-10 22:41:27 - INFO - [batch_card_generation_pipeline.py:515] - Batch 2 completed successfully
2025-05-10 22:41:29 - INFO - [batch_card_generation_pipeline.py:515] - Batch 3 completed successfully
2025-05-10 22:41:32 - INFO - [batch_card_generation_pipeline.py:515] - Batch 4 completed successfully
2025-05-10 22:42:27 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 5 (iteration 1/3)
2025-05-10 22:42:31 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 5 reached perfect quality
2025-05-10 22:42:31 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 5 cards, 0 failed.
2025-05-10 22:42:31 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 5 cards
2025-05-10 22:42:31 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=English, target_lang=Russian, secondary_lang=German, model=gpt-4o, batch_size=2
2025-05-10 22:42:36 - INFO - [batch_card_generation_pipeline.py:515] - Batch 1 completed successfully
2025-05-10 22:43:26 - INFO - [batch_card_generation_pipeline.py:515] - Batch 2 completed successfully
2025-05-10 22:43:31 - INFO - [batch_card_generation_pipeline.py:515] - Batch 3 completed successfully
2025-05-10 22:43:31 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 5 cards, 0 failed.
2025-05-10 22:43:31 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 5 cards
2025-05-10 22:43:31 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=English, target_lang=Russian, secondary_lang=German, model=gpt-4o, batch_size=3
2025-05-10 22:43:38 - INFO - [batch_card_generation_pipeline.py:515] - Batch 1 completed successfully
2025-05-10 22:43:43 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 2 (iteration 1/3)
2025-05-10 22:44:29 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 2 reached perfect quality
2025-05-10 22:44:29 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 5 cards, 0 failed.
2025-05-10 22:44:29 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 5 cards
2025-05-10 22:44:29 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=English, target_lang=Russian, secondary_lang=German, model=gpt-4o, batch_size=5
2025-05-10 22:44:41 - INFO - [batch_card_generation_pipeline.py:515] - Batch 1 completed successfully
2025-05-10 22:44:41 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 5 cards, 0 failed.
2025-05-10 22:54:26 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 10 cards
2025-05-10 22:54:26 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=Finnish, target_lang=English, secondary_lang=Russian, model=gpt-4o, batch_size=1
2025-05-10 22:54:29 - INFO - [batch_card_generation_pipeline.py:515] - Batch 1 completed successfully
2025-05-10 22:54:32 - INFO - [batch_card_generation_pipeline.py:515] - Batch 2 completed successfully
2025-05-10 22:54:36 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 3 (iteration 1/3)
2025-05-10 22:54:39 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 3 reached perfect quality
2025-05-10 22:55:31 - INFO - [batch_card_generation_pipeline.py:515] - Batch 4 completed successfully
2025-05-10 22:55:33 - INFO - [batch_card_generation_pipeline.py:515] - Batch 5 completed successfully
2025-05-10 22:55:37 - INFO - [batch_card_generation_pipeline.py:515] - Batch 6 completed successfully
2025-05-10 22:55:41 - INFO - [batch_card_generation_pipeline.py:515] - Batch 7 completed successfully
2025-05-10 22:56:31 - INFO - [batch_card_generation_pipeline.py:515] - Batch 8 completed successfully
2025-05-10 22:56:34 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 9 (iteration 1/3)
2025-05-10 22:56:37 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 9 reached perfect quality
2025-05-10 22:56:44 - INFO - [batch_card_generation_pipeline.py:515] - Batch 10 completed successfully
2025-05-10 22:56:44 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 10 cards, 0 failed.
2025-05-10 22:56:44 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 10 cards
2025-05-10 22:56:44 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=Finnish, target_lang=English, secondary_lang=Russian, model=gpt-4o, batch_size=2
2025-05-10 22:57:39 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 1/3)
2025-05-10 22:57:42 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 2/3)
2025-05-10 22:57:45 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 3/3)
2025-05-10 22:58:45 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 2 (iteration 1/3)
2025-05-10 22:58:51 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 2 (iteration 2/3)
2025-05-10 22:58:56 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 2 (iteration 3/3)
2025-05-10 22:59:50 - INFO - [batch_card_generation_pipeline.py:515] - Batch 3 completed successfully
2025-05-10 22:59:55 - INFO - [batch_card_generation_pipeline.py:515] - Batch 4 completed successfully
2025-05-10 23:00:41 - INFO - [batch_card_generation_pipeline.py:515] - Batch 5 completed successfully
2025-05-10 23:00:41 - ERROR - [batch_card_generation_pipeline.py:612] - Failed to process 2 cards out of 10
2025-05-10 23:00:41 - ERROR - [batch_card_generation_pipeline.py:614] - Card 1369: Failed to achieve perfect quality after improvements
2025-05-10 23:00:41 - ERROR - [batch_card_generation_pipeline.py:614] - Card 6237: Failed to achieve perfect quality after improvements
2025-05-10 23:00:41 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 8 cards, 2 failed.
2025-05-10 23:00:41 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 10 cards
2025-05-10 23:00:41 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=Finnish, target_lang=English, secondary_lang=Russian, model=gpt-4o, batch_size=3
2025-05-10 23:00:51 - INFO - [batch_card_generation_pipeline.py:515] - Batch 1 completed successfully
2025-05-10 23:00:57 - INFO - [batch_card_generation_pipeline.py:515] - Batch 2 completed successfully
2025-05-10 23:01:03 - INFO - [batch_card_generation_pipeline.py:515] - Batch 3 completed successfully
2025-05-10 23:01:43 - INFO - [batch_card_generation_pipeline.py:515] - Batch 4 completed successfully
2025-05-10 23:01:43 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 10 cards, 0 failed.
2025-05-10 23:01:43 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 10 cards
2025-05-10 23:01:43 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=Finnish, target_lang=English, secondary_lang=Russian, model=gpt-4o, batch_size=5
2025-05-10 23:02:00 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 1/3)
2025-05-10 23:02:05 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 1 reached perfect quality
2025-05-10 23:02:50 - INFO - [batch_card_generation_pipeline.py:515] - Batch 2 completed successfully
2025-05-10 23:02:50 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 10 cards, 0 failed.
2025-05-10 23:18:29 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 100 cards
2025-05-10 23:18:29 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=Finnish, target_lang=English, secondary_lang=Russian, model=gpt-4o, batch_size=1
2025-05-10 23:18:33 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 1/3)
2025-05-10 23:18:36 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 2/3)
2025-05-10 23:18:40 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 3/3)
2025-05-10 23:19:39 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 2 (iteration 1/3)
2025-05-10 23:19:42 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 2 reached perfect quality
2025-05-10 23:19:45 - INFO - [batch_card_generation_pipeline.py:515] - Batch 3 completed successfully
2025-05-10 23:20:34 - INFO - [batch_card_generation_pipeline.py:515] - Batch 4 completed successfully
2025-05-10 23:20:37 - INFO - [batch_card_generation_pipeline.py:515] - Batch 5 completed successfully
2025-05-10 23:20:42 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 6 (iteration 1/3)
2025-05-10 23:20:47 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 6 (iteration 2/3)
2025-05-10 23:21:38 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 6 (iteration 3/3)
2025-05-10 23:21:42 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 6 reached perfect quality
2025-05-10 23:21:45 - INFO - [batch_card_generation_pipeline.py:515] - Batch 7 completed successfully
2025-05-10 23:22:37 - INFO - [batch_card_generation_pipeline.py:515] - Batch 8 completed successfully
2025-05-10 23:22:40 - INFO - [batch_card_generation_pipeline.py:515] - Batch 9 completed successfully
2025-05-10 23:22:43 - INFO - [batch_card_generation_pipeline.py:515] - Batch 10 completed successfully
2025-05-10 23:22:46 - INFO - [batch_card_generation_pipeline.py:515] - Batch 11 completed successfully
2025-05-10 23:23:38 - INFO - [batch_card_generation_pipeline.py:515] - Batch 12 completed successfully
2025-05-10 23:23:41 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 13 (iteration 1/3)
2025-05-10 23:23:44 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 13 reached perfect quality
2025-05-10 23:23:48 - INFO - [batch_card_generation_pipeline.py:515] - Batch 14 completed successfully
2025-05-10 23:24:38 - INFO - [batch_card_generation_pipeline.py:515] - Batch 15 completed successfully
2025-05-10 23:24:42 - INFO - [batch_card_generation_pipeline.py:515] - Batch 16 completed successfully
2025-05-10 23:24:46 - INFO - [batch_card_generation_pipeline.py:515] - Batch 17 completed successfully
2025-05-10 23:24:49 - INFO - [batch_card_generation_pipeline.py:515] - Batch 18 completed successfully
2025-05-10 23:25:39 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 19 (iteration 1/3)
2025-05-10 23:25:42 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 19 (iteration 2/3)
2025-05-10 23:25:50 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 19 (iteration 3/3)
2025-05-10 23:25:52 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 19 reached perfect quality
2025-05-10 23:26:42 - INFO - [batch_card_generation_pipeline.py:515] - Batch 20 completed successfully
2025-05-10 23:26:46 - INFO - [batch_card_generation_pipeline.py:515] - Batch 21 completed successfully
2025-05-10 23:26:50 - INFO - [batch_card_generation_pipeline.py:515] - Batch 22 completed successfully
2025-05-10 23:26:54 - INFO - [batch_card_generation_pipeline.py:515] - Batch 23 completed successfully
2025-05-10 23:27:42 - INFO - [batch_card_generation_pipeline.py:515] - Batch 24 completed successfully
2025-05-10 23:27:47 - INFO - [batch_card_generation_pipeline.py:515] - Batch 25 completed successfully
2025-05-10 23:27:51 - INFO - [batch_card_generation_pipeline.py:515] - Batch 26 completed successfully
2025-05-10 23:27:54 - INFO - [batch_card_generation_pipeline.py:515] - Batch 27 completed successfully
2025-05-10 23:28:43 - INFO - [batch_card_generation_pipeline.py:515] - Batch 28 completed successfully
2025-05-10 23:28:48 - INFO - [batch_card_generation_pipeline.py:515] - Batch 29 completed successfully
2025-05-10 23:28:53 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 30 (iteration 1/3)
2025-05-10 23:28:56 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 30 reached perfect quality
2025-05-10 23:29:43 - INFO - [batch_card_generation_pipeline.py:515] - Batch 31 completed successfully
2025-05-10 23:29:48 - INFO - [batch_card_generation_pipeline.py:515] - Batch 32 completed successfully
2025-05-10 23:29:53 - INFO - [batch_card_generation_pipeline.py:515] - Batch 33 completed successfully
2025-05-10 23:29:58 - INFO - [batch_card_generation_pipeline.py:515] - Batch 34 completed successfully
2025-05-10 23:30:44 - INFO - [batch_card_generation_pipeline.py:515] - Batch 35 completed successfully
2025-05-10 23:30:49 - INFO - [batch_card_generation_pipeline.py:515] - Batch 36 completed successfully
2025-05-10 23:30:53 - INFO - [batch_card_generation_pipeline.py:515] - Batch 37 completed successfully
2025-05-10 23:30:58 - INFO - [batch_card_generation_pipeline.py:515] - Batch 38 completed successfully
2025-05-10 23:31:45 - INFO - [batch_card_generation_pipeline.py:515] - Batch 39 completed successfully
2025-05-10 23:31:50 - INFO - [batch_card_generation_pipeline.py:515] - Batch 40 completed successfully
2025-05-10 23:31:54 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 41 (iteration 1/3)
2025-05-10 23:31:59 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 41 (iteration 2/3)
2025-05-10 23:32:47 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 41 (iteration 3/3)
2025-05-10 23:32:55 - INFO - [batch_card_generation_pipeline.py:515] - Batch 42 completed successfully
2025-05-10 23:32:58 - INFO - [batch_card_generation_pipeline.py:515] - Batch 43 completed successfully
2025-05-10 23:33:46 - INFO - [batch_card_generation_pipeline.py:515] - Batch 44 completed successfully
2025-05-10 23:33:52 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 45 (iteration 1/3)
2025-05-10 23:33:54 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 45 (iteration 2/3)
2025-05-10 23:34:45 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 45 (iteration 3/3)
2025-05-10 23:34:55 - INFO - [batch_card_generation_pipeline.py:515] - Batch 46 completed successfully
2025-05-10 23:34:59 - INFO - [batch_card_generation_pipeline.py:515] - Batch 47 completed successfully
2025-05-10 23:35:46 - INFO - [batch_card_generation_pipeline.py:515] - Batch 48 completed successfully
2025-05-10 23:35:52 - INFO - [batch_card_generation_pipeline.py:515] - Batch 49 completed successfully
2025-05-10 23:35:56 - INFO - [batch_card_generation_pipeline.py:515] - Batch 50 completed successfully
2025-05-10 23:36:01 - INFO - [batch_card_generation_pipeline.py:515] - Batch 51 completed successfully
2025-05-10 23:36:46 - INFO - [batch_card_generation_pipeline.py:515] - Batch 52 completed successfully
2025-05-10 23:36:52 - INFO - [batch_card_generation_pipeline.py:515] - Batch 53 completed successfully
2025-05-10 23:36:57 - INFO - [batch_card_generation_pipeline.py:515] - Batch 54 completed successfully
2025-05-10 23:37:02 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 55 (iteration 1/3)
2025-05-10 23:37:47 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 55 reached perfect quality
2025-05-10 23:37:54 - INFO - [batch_card_generation_pipeline.py:515] - Batch 56 completed successfully
2025-05-10 23:37:57 - INFO - [batch_card_generation_pipeline.py:515] - Batch 57 completed successfully
2025-05-10 23:38:02 - INFO - [batch_card_generation_pipeline.py:515] - Batch 58 completed successfully
2025-05-10 23:38:48 - INFO - [batch_card_generation_pipeline.py:515] - Batch 59 completed successfully
2025-05-10 23:38:54 - INFO - [batch_card_generation_pipeline.py:515] - Batch 60 completed successfully
2025-05-10 23:38:58 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 61 (iteration 1/3)
2025-05-10 23:39:03 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 61 reached perfect quality
2025-05-10 23:39:49 - INFO - [batch_card_generation_pipeline.py:515] - Batch 62 completed successfully
2025-05-10 23:39:54 - INFO - [batch_card_generation_pipeline.py:515] - Batch 63 completed successfully
2025-05-10 23:39:58 - INFO - [batch_card_generation_pipeline.py:515] - Batch 64 completed successfully
2025-05-10 23:40:04 - INFO - [batch_card_generation_pipeline.py:515] - Batch 65 completed successfully
2025-05-10 23:40:50 - INFO - [batch_card_generation_pipeline.py:515] - Batch 66 completed successfully
2025-05-10 23:40:55 - INFO - [batch_card_generation_pipeline.py:515] - Batch 67 completed successfully
2025-05-10 23:40:59 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 68 (iteration 1/3)
2025-05-10 23:41:04 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 68 reached perfect quality
2025-05-10 23:41:51 - INFO - [batch_card_generation_pipeline.py:515] - Batch 69 completed successfully
2025-05-10 23:41:56 - INFO - [batch_card_generation_pipeline.py:515] - Batch 70 completed successfully
2025-05-10 23:42:00 - INFO - [batch_card_generation_pipeline.py:515] - Batch 71 completed successfully
2025-05-10 23:42:04 - INFO - [batch_card_generation_pipeline.py:515] - Batch 72 completed successfully
2025-05-10 23:42:51 - INFO - [batch_card_generation_pipeline.py:515] - Batch 73 completed successfully
2025-05-10 23:42:56 - INFO - [batch_card_generation_pipeline.py:515] - Batch 74 completed successfully
2025-05-10 23:43:00 - INFO - [batch_card_generation_pipeline.py:515] - Batch 75 completed successfully
2025-05-10 23:43:05 - INFO - [batch_card_generation_pipeline.py:515] - Batch 76 completed successfully
2025-05-10 23:43:53 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 77 (iteration 1/3)
2025-05-10 23:43:57 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 77 reached perfect quality
2025-05-10 23:44:04 - INFO - [batch_card_generation_pipeline.py:515] - Batch 78 completed successfully
2025-05-10 23:44:07 - INFO - [batch_card_generation_pipeline.py:515] - Batch 79 completed successfully
2025-05-10 23:44:53 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 80 (iteration 1/3)
2025-05-10 23:44:58 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 80 reached perfect quality
2025-05-10 23:45:04 - INFO - [batch_card_generation_pipeline.py:515] - Batch 81 completed successfully
2025-05-10 23:45:07 - INFO - [batch_card_generation_pipeline.py:515] - Batch 82 completed successfully
2025-05-10 23:45:54 - INFO - [batch_card_generation_pipeline.py:515] - Batch 83 completed successfully
2025-05-10 23:45:59 - INFO - [batch_card_generation_pipeline.py:515] - Batch 84 completed successfully
2025-05-10 23:46:05 - INFO - [batch_card_generation_pipeline.py:515] - Batch 85 completed successfully
2025-05-10 23:46:08 - INFO - [batch_card_generation_pipeline.py:515] - Batch 86 completed successfully
2025-05-10 23:46:55 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 87 (iteration 1/3)
2025-05-10 23:47:00 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 87 reached perfect quality
2025-05-10 23:47:05 - INFO - [batch_card_generation_pipeline.py:515] - Batch 88 completed successfully
2025-05-10 23:47:08 - INFO - [batch_card_generation_pipeline.py:515] - Batch 89 completed successfully
2025-05-10 23:47:56 - INFO - [batch_card_generation_pipeline.py:515] - Batch 90 completed successfully
2025-05-10 23:47:59 - INFO - [batch_card_generation_pipeline.py:515] - Batch 91 completed successfully
2025-05-10 23:48:07 - INFO - [batch_card_generation_pipeline.py:515] - Batch 92 completed successfully
2025-05-10 23:48:10 - INFO - [batch_card_generation_pipeline.py:515] - Batch 93 completed successfully
2025-05-10 23:48:56 - INFO - [batch_card_generation_pipeline.py:515] - Batch 94 completed successfully
2025-05-10 23:49:00 - INFO - [batch_card_generation_pipeline.py:515] - Batch 95 completed successfully
2025-05-10 23:49:07 - INFO - [batch_card_generation_pipeline.py:515] - Batch 96 completed successfully
2025-05-10 23:49:10 - INFO - [batch_card_generation_pipeline.py:515] - Batch 97 completed successfully
2025-05-10 23:49:58 - INFO - [batch_card_generation_pipeline.py:515] - Batch 98 completed successfully
2025-05-10 23:50:00 - INFO - [batch_card_generation_pipeline.py:515] - Batch 99 completed successfully
2025-05-10 23:50:07 - INFO - [batch_card_generation_pipeline.py:515] - Batch 100 completed successfully
2025-05-10 23:50:07 - ERROR - [batch_card_generation_pipeline.py:612] - Failed to process 3 cards out of 100
2025-05-10 23:50:07 - ERROR - [batch_card_generation_pipeline.py:614] - Card 6127: Failed to achieve perfect quality after improvements
2025-05-10 23:50:07 - ERROR - [batch_card_generation_pipeline.py:614] - Card 4743: Failed to achieve perfect quality after improvements
2025-05-10 23:50:07 - ERROR - [batch_card_generation_pipeline.py:614] - Card 5690: Failed to achieve perfect quality after improvements
2025-05-10 23:50:07 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 97 cards, 3 failed.
2025-05-10 23:50:07 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 100 cards
2025-05-10 23:50:07 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=Finnish, target_lang=English, secondary_lang=Russian, model=gpt-4o, batch_size=2
2025-05-10 23:50:13 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 1/3)
2025-05-10 23:50:58 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 2/3)
2025-05-10 23:51:02 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 3/3)
2025-05-10 23:51:18 - INFO - [batch_card_generation_pipeline.py:515] - Batch 2 completed successfully
2025-05-10 23:52:04 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 3 (iteration 1/3)
2025-05-10 23:52:11 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 3 (iteration 2/3)
2025-05-10 23:52:17 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 3 (iteration 3/3)
2025-05-10 23:53:09 - INFO - [batch_card_generation_pipeline.py:515] - Batch 4 completed successfully
2025-05-10 23:53:15 - INFO - [batch_card_generation_pipeline.py:515] - Batch 5 completed successfully
2025-05-10 23:53:22 - INFO - [batch_card_generation_pipeline.py:515] - Batch 6 completed successfully
2025-05-10 23:54:08 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 7 (iteration 1/3)
2025-05-10 23:54:12 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 7 reached perfect quality
2025-05-10 23:54:21 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 8 (iteration 1/3)
2025-05-10 23:55:03 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 8 (iteration 2/3)
2025-05-10 23:55:11 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 8 (iteration 3/3)
2025-05-10 23:55:26 - INFO - [batch_card_generation_pipeline.py:515] - Batch 9 completed successfully
2025-05-10 23:56:09 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 10 (iteration 1/3)
2025-05-10 23:56:14 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 10 (iteration 2/3)
2025-05-10 23:56:21 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 10 (iteration 3/3)
2025-05-10 23:57:13 - INFO - [batch_card_generation_pipeline.py:515] - Batch 11 completed successfully
2025-05-10 23:57:19 - INFO - [batch_card_generation_pipeline.py:515] - Batch 12 completed successfully
2025-05-10 23:57:26 - INFO - [batch_card_generation_pipeline.py:515] - Batch 13 completed successfully
2025-05-10 23:58:11 - INFO - [batch_card_generation_pipeline.py:515] - Batch 14 completed successfully
2025-05-10 23:58:19 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 15 (iteration 1/3)
2025-05-10 23:58:21 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 15 reached perfect quality
2025-05-10 23:59:08 - INFO - [batch_card_generation_pipeline.py:515] - Batch 16 completed successfully
2025-05-10 23:59:16 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 17 (iteration 1/3)
2025-05-10 23:59:22 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 17 reached perfect quality
2025-05-10 23:59:27 - INFO - [batch_card_generation_pipeline.py:515] - Batch 18 completed successfully
2025-05-11 00:00:13 - INFO - [batch_card_generation_pipeline.py:515] - Batch 19 completed successfully
2025-05-11 00:00:21 - INFO - [batch_card_generation_pipeline.py:515] - Batch 20 completed successfully
2025-05-11 00:00:27 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 21 (iteration 1/3)
2025-05-11 00:01:08 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 21 reached perfect quality
2025-05-11 00:01:18 - INFO - [batch_card_generation_pipeline.py:515] - Batch 22 completed successfully
2025-05-11 00:01:26 - INFO - [batch_card_generation_pipeline.py:515] - Batch 23 completed successfully
2025-05-11 00:01:32 - INFO - [batch_card_generation_pipeline.py:515] - Batch 24 completed successfully
2025-05-11 00:02:13 - INFO - [batch_card_generation_pipeline.py:515] - Batch 25 completed successfully
2025-05-11 00:02:23 - INFO - [batch_card_generation_pipeline.py:515] - Batch 26 completed successfully
2025-05-11 00:02:30 - INFO - [batch_card_generation_pipeline.py:515] - Batch 27 completed successfully
2025-05-11 00:03:11 - INFO - [batch_card_generation_pipeline.py:515] - Batch 28 completed successfully
2025-05-11 00:03:18 - INFO - [batch_card_generation_pipeline.py:515] - Batch 29 completed successfully
2025-05-11 00:03:29 - INFO - [batch_card_generation_pipeline.py:515] - Batch 30 completed successfully
2025-05-11 00:03:35 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 31 (iteration 1/3)
2025-05-11 00:04:14 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 31 (iteration 2/3)
2025-05-11 00:04:22 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 31 (iteration 3/3)
2025-05-11 00:05:12 - INFO - [batch_card_generation_pipeline.py:515] - Batch 32 completed successfully
2025-05-11 00:05:20 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 33 (iteration 1/3)
2025-05-11 00:05:27 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 33 reached perfect quality
2025-05-11 00:05:37 - INFO - [batch_card_generation_pipeline.py:515] - Batch 34 completed successfully
2025-05-11 00:06:17 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 35 (iteration 1/3)
2025-05-11 00:06:24 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 35 reached perfect quality
2025-05-11 00:06:34 - INFO - [batch_card_generation_pipeline.py:515] - Batch 36 completed successfully
2025-05-11 00:07:14 - INFO - [batch_card_generation_pipeline.py:515] - Batch 37 completed successfully
2025-05-11 00:07:21 - INFO - [batch_card_generation_pipeline.py:515] - Batch 38 completed successfully
2025-05-11 00:07:31 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 39 (iteration 1/3)
2025-05-11 00:07:37 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 39 (iteration 2/3)
2025-05-11 00:08:18 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 39 (iteration 3/3)
2025-05-11 00:08:37 - INFO - [batch_card_generation_pipeline.py:515] - Batch 40 completed successfully
2025-05-11 00:09:16 - INFO - [batch_card_generation_pipeline.py:515] - Batch 41 completed successfully
2025-05-11 00:09:23 - INFO - [batch_card_generation_pipeline.py:515] - Batch 42 completed successfully
2025-05-11 00:09:33 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 43 (iteration 1/3)
2025-05-11 00:09:40 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 43 reached perfect quality
2025-05-11 00:10:20 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 44 (iteration 1/3)
2025-05-11 00:10:26 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 44 (iteration 2/3)
2025-05-11 00:10:35 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 44 (iteration 3/3)
2025-05-11 00:11:25 - INFO - [batch_card_generation_pipeline.py:515] - Batch 45 completed successfully
2025-05-11 00:11:33 - INFO - [batch_card_generation_pipeline.py:515] - Batch 46 completed successfully
2025-05-11 00:11:41 - INFO - [batch_card_generation_pipeline.py:515] - Batch 47 completed successfully
2025-05-11 00:12:23 - INFO - [batch_card_generation_pipeline.py:515] - Batch 48 completed successfully
2025-05-11 00:12:30 - INFO - [batch_card_generation_pipeline.py:515] - Batch 49 completed successfully
2025-05-11 00:12:37 - INFO - [batch_card_generation_pipeline.py:515] - Batch 50 completed successfully
2025-05-11 00:12:37 - ERROR - [batch_card_generation_pipeline.py:612] - Failed to process 7 cards out of 100
2025-05-11 00:12:37 - ERROR - [batch_card_generation_pipeline.py:614] - Card 6127: Failed to achieve perfect quality after improvements
2025-05-11 00:12:37 - ERROR - [batch_card_generation_pipeline.py:614] - Card 2933: Failed to achieve perfect quality after improvements
2025-05-11 00:12:37 - ERROR - [batch_card_generation_pipeline.py:614] - Card 3229: Failed to achieve perfect quality after improvements
2025-05-11 00:12:37 - ERROR - [batch_card_generation_pipeline.py:614] - Card 4491: Failed to achieve perfect quality after improvements
2025-05-11 00:12:37 - ERROR - [batch_card_generation_pipeline.py:614] - Card 6808: Failed to achieve perfect quality after improvements
2025-05-11 00:12:37 - ERROR - [batch_card_generation_pipeline.py:614] - Card 4928: Failed to achieve perfect quality after improvements
2025-05-11 00:12:37 - ERROR - [batch_card_generation_pipeline.py:614] - Card 5018: Failed to achieve perfect quality after improvements
2025-05-11 00:12:37 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 93 cards, 7 failed.
2025-05-11 00:12:37 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 100 cards
2025-05-11 00:12:37 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=Finnish, target_lang=English, secondary_lang=Russian, model=gpt-4o, batch_size=3
2025-05-11 00:13:22 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 1/3)
2025-05-11 00:13:28 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 2/3)
2025-05-11 00:13:39 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 3/3)
2025-05-11 00:14:29 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 2 (iteration 1/3)
2025-05-11 00:14:31 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 2 reached perfect quality
2025-05-11 00:14:44 - INFO - [batch_card_generation_pipeline.py:515] - Batch 3 completed successfully
2025-05-11 00:15:29 - INFO - [batch_card_generation_pipeline.py:515] - Batch 4 completed successfully
2025-05-11 00:15:36 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 5 (iteration 1/3)
2025-05-11 00:15:39 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 5 reached perfect quality
2025-05-11 00:16:26 - INFO - [batch_card_generation_pipeline.py:515] - Batch 6 completed successfully
2025-05-11 00:16:36 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 7 (iteration 1/3)
2025-05-11 00:16:39 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 7 reached perfect quality
2025-05-11 00:16:46 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 8 (iteration 1/3)
2025-05-11 00:17:29 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 8 reached perfect quality
2025-05-11 00:17:44 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 9 (iteration 1/3)
2025-05-11 00:17:47 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 9 reached perfect quality
2025-05-11 00:18:29 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 10 (iteration 1/3)
2025-05-11 00:18:33 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 10 reached perfect quality
2025-05-11 00:18:51 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 11 (iteration 1/3)
2025-05-11 00:18:54 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 11 reached perfect quality
2025-05-11 00:19:36 - INFO - [batch_card_generation_pipeline.py:515] - Batch 12 completed successfully
2025-05-11 00:19:45 - INFO - [batch_card_generation_pipeline.py:515] - Batch 13 completed successfully
2025-05-11 00:19:58 - INFO - [batch_card_generation_pipeline.py:515] - Batch 14 completed successfully
2025-05-11 00:20:30 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 15 (iteration 1/3)
2025-05-11 00:20:39 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 15 reached perfect quality
2025-05-11 00:20:53 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 16 (iteration 1/3)
2025-05-11 00:21:01 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 16 reached perfect quality
2025-05-11 00:21:37 - INFO - [batch_card_generation_pipeline.py:515] - Batch 17 completed successfully
2025-05-11 00:21:46 - INFO - [batch_card_generation_pipeline.py:515] - Batch 18 completed successfully
2025-05-11 00:21:59 - INFO - [batch_card_generation_pipeline.py:515] - Batch 19 completed successfully
2025-05-11 00:22:38 - INFO - [batch_card_generation_pipeline.py:515] - Batch 20 completed successfully
2025-05-11 00:22:47 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 21 (iteration 1/3)
2025-05-11 00:22:52 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 21 (iteration 2/3)
2025-05-11 00:23:04 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 21 (iteration 3/3)
2025-05-11 00:23:54 - INFO - [batch_card_generation_pipeline.py:515] - Batch 22 completed successfully
2025-05-11 00:24:02 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 23 (iteration 1/3)
2025-05-11 00:24:43 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 23 (iteration 2/3)
2025-05-11 00:24:53 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 23 (iteration 3/3)
2025-05-11 00:25:45 - INFO - [batch_card_generation_pipeline.py:515] - Batch 24 completed successfully
2025-05-11 00:25:52 - INFO - [batch_card_generation_pipeline.py:515] - Batch 25 completed successfully
2025-05-11 00:26:04 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 26 (iteration 1/3)
2025-05-11 00:26:45 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 26 (iteration 2/3)
2025-05-11 00:26:51 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 26 (iteration 3/3)
2025-05-11 00:27:46 - INFO - [batch_card_generation_pipeline.py:515] - Batch 27 completed successfully
2025-05-11 00:27:54 - INFO - [batch_card_generation_pipeline.py:515] - Batch 28 completed successfully
2025-05-11 00:28:02 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 29 (iteration 1/3)
2025-05-11 00:28:07 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 29 reached perfect quality
2025-05-11 00:28:55 - INFO - [batch_card_generation_pipeline.py:515] - Batch 30 completed successfully
2025-05-11 00:29:03 - INFO - [batch_card_generation_pipeline.py:515] - Batch 31 completed successfully
2025-05-11 00:29:09 - INFO - [batch_card_generation_pipeline.py:515] - Batch 32 completed successfully
2025-05-11 00:29:55 - INFO - [batch_card_generation_pipeline.py:515] - Batch 33 completed successfully
2025-05-11 00:29:58 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 34 (iteration 1/3)
2025-05-11 00:30:06 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 34 reached perfect quality
2025-05-11 00:30:06 - ERROR - [batch_card_generation_pipeline.py:612] - Failed to process 5 cards out of 100
2025-05-11 00:30:06 - ERROR - [batch_card_generation_pipeline.py:614] - Card 5337: Failed to achieve perfect quality after improvements
2025-05-11 00:30:06 - ERROR - [batch_card_generation_pipeline.py:614] - Card 5337: Failed to achieve perfect quality after improvements
2025-05-11 00:30:06 - ERROR - [batch_card_generation_pipeline.py:614] - Card 6808: Failed to achieve perfect quality after improvements
2025-05-11 00:30:06 - ERROR - [batch_card_generation_pipeline.py:614] - Card 6796: Failed to achieve perfect quality after improvements
2025-05-11 00:30:06 - ERROR - [batch_card_generation_pipeline.py:614] - Card 4928: Failed to achieve perfect quality after improvements
2025-05-11 00:30:06 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 95 cards, 5 failed.
2025-05-11 00:30:06 - INFO - [batch_card_generation_pipeline.py:456] - Starting batch processing with 100 cards
2025-05-11 00:30:06 - INFO - [batch_card_generation_pipeline.py:457] - Parameters: source_lang=Finnish, target_lang=English, secondary_lang=Russian, model=gpt-4o, batch_size=5
2025-05-11 00:30:17 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 1/3)
2025-05-11 00:30:59 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 2/3)
2025-05-11 00:31:02 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 1 (iteration 3/3)
2025-05-11 00:51:53 - ERROR - [batch_card_generation_pipeline.py:597] - Error processing batch 2 (attempt 1/5): Request timed out.
2025-05-11 00:51:53 - ERROR - [batch_card_generation_pipeline.py:598] - Traceback: Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline.py", line 491, in process_cards_batch
    current_evals = evaluate_batch_unified_cards(
        batch_source,
    ...<5 lines>...
        model
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline.py", line 288, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1046, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-11 00:51:53 - INFO - [batch_card_generation_pipeline.py:477] - Retry 1/5 for batch 2/20
2025-05-11 00:52:08 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 2 (iteration 1/3)
2025-05-11 00:52:12 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 2 (iteration 2/3)
2025-05-11 00:52:15 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 2 (iteration 3/3)
2025-05-11 00:53:19 - INFO - [batch_card_generation_pipeline.py:515] - Batch 3 completed successfully
2025-05-11 00:53:29 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 4 (iteration 1/3)
2025-05-11 00:54:03 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 4 (iteration 2/3)
2025-05-11 00:54:14 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 4 (iteration 3/3)
2025-05-11 00:55:10 - INFO - [batch_card_generation_pipeline.py:515] - Batch 5 completed successfully
2025-05-11 00:55:21 - INFO - [batch_card_generation_pipeline.py:515] - Batch 6 completed successfully
2025-05-11 00:55:33 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 7 (iteration 1/3)
2025-05-11 00:56:05 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 7 reached perfect quality
2025-05-11 00:56:22 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 8 (iteration 1/3)
2025-05-11 00:56:26 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 8 (iteration 2/3)
2025-05-11 00:56:37 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 8 reached perfect quality
2025-05-11 00:57:22 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 9 (iteration 1/3)
2025-05-11 00:57:28 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 9 (iteration 2/3)
2025-05-11 00:57:41 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 9 (iteration 3/3)
2025-05-11 00:58:34 - INFO - [batch_card_generation_pipeline.py:515] - Batch 10 completed successfully
2025-05-11 00:58:44 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 11 (iteration 1/3)
2025-05-11 00:59:17 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 11 reached perfect quality
2025-05-11 00:59:34 - INFO - [batch_card_generation_pipeline.py:515] - Batch 12 completed successfully
2025-05-11 00:59:45 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 13 (iteration 1/3)
2025-05-11 01:00:19 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 13 reached perfect quality
2025-05-11 01:00:37 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 14 (iteration 1/3)
2025-05-11 01:00:40 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 14 reached perfect quality
2025-05-11 01:01:28 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 15 (iteration 1/3)
2025-05-11 01:01:31 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 15 reached perfect quality
2025-05-11 01:01:48 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 16 (iteration 1/3)
2025-05-11 01:02:25 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 16 (iteration 2/3)
2025-05-11 01:02:33 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 16 (iteration 3/3)
2025-05-11 01:03:28 - INFO - [batch_card_generation_pipeline.py:531] - Attempting to improve failed cards in batch 17 (iteration 1/3)
2025-05-11 01:03:35 - INFO - [batch_card_generation_pipeline.py:562] - All cards in batch 17 reached perfect quality
2025-05-11 01:03:50 - INFO - [batch_card_generation_pipeline.py:515] - Batch 18 completed successfully
2025-05-11 01:04:29 - INFO - [batch_card_generation_pipeline.py:515] - Batch 19 completed successfully
2025-05-11 01:04:39 - INFO - [batch_card_generation_pipeline.py:515] - Batch 20 completed successfully
2025-05-11 01:04:39 - ERROR - [batch_card_generation_pipeline.py:612] - Failed to process 6 cards out of 100
2025-05-11 01:04:39 - ERROR - [batch_card_generation_pipeline.py:614] - Card 6127: Failed to achieve perfect quality after improvements
2025-05-11 01:04:39 - ERROR - [batch_card_generation_pipeline.py:614] - Card 2933: Failed to achieve perfect quality after improvements
2025-05-11 01:04:39 - ERROR - [batch_card_generation_pipeline.py:614] - Card 6545: Failed to achieve perfect quality after improvements
2025-05-11 01:04:39 - ERROR - [batch_card_generation_pipeline.py:614] - Card 5690: Failed to achieve perfect quality after improvements
2025-05-11 01:04:39 - ERROR - [batch_card_generation_pipeline.py:614] - Card 5690: Failed to achieve perfect quality after improvements
2025-05-11 01:04:39 - ERROR - [batch_card_generation_pipeline.py:614] - Card 3172: Failed to achieve perfect quality after improvements
2025-05-11 01:04:39 - INFO - [batch_card_generation_pipeline.py:619] - Batch processing completed. Generated 94 cards, 6 failed.
2025-05-11 10:40:52 - INFO - [batch_card_generation_pipeline.py:499] - Starting card processing with 10 cards
2025-05-11 10:43:01 - INFO - [batch_card_generation_pipeline.py:641] - Card processing completed. Stats: {'successful': 10, 'pending': 0, 'failed': 0}
2025-05-11 10:43:01 - INFO - [batch_card_generation_pipeline.py:499] - Starting card processing with 10 cards
2025-05-11 10:45:03 - INFO - [batch_card_generation_pipeline.py:641] - Card processing completed. Stats: {'successful': 10, 'pending': 0, 'failed': 0}
2025-05-11 10:45:03 - INFO - [batch_card_generation_pipeline.py:499] - Starting card processing with 10 cards
2025-05-11 10:46:17 - INFO - [batch_card_generation_pipeline.py:641] - Card processing completed. Stats: {'successful': 10, 'pending': 0, 'failed': 0}
2025-05-11 10:46:17 - INFO - [batch_card_generation_pipeline.py:499] - Starting card processing with 10 cards
2025-05-11 10:47:22 - INFO - [batch_card_generation_pipeline.py:641] - Card processing completed. Stats: {'successful': 10, 'pending': 0, 'failed': 0}
2025-05-11 11:07:44 - INFO - [batch_card_generation_pipeline.py:499] - Starting card processing with 100 cards
2025-05-11 11:40:28 - INFO - [batch_card_generation_pipeline.py:641] - Card processing completed. Stats: {'successful': 91, 'pending': 0, 'failed': 9}
2025-05-11 11:40:28 - INFO - [batch_card_generation_pipeline.py:499] - Starting card processing with 100 cards
2025-05-11 11:59:50 - INFO - [batch_card_generation_pipeline.py:641] - Card processing completed. Stats: {'successful': 92, 'pending': 0, 'failed': 8}
2025-05-11 11:59:50 - INFO - [batch_card_generation_pipeline.py:499] - Starting card processing with 100 cards
2025-05-11 12:15:09 - INFO - [batch_card_generation_pipeline.py:641] - Card processing completed. Stats: {'successful': 89, 'pending': 0, 'failed': 11}
2025-05-11 12:15:09 - INFO - [batch_card_generation_pipeline.py:499] - Starting card processing with 100 cards
2025-05-11 12:48:00 - ERROR - [batch_card_generation_pipeline.py:563] - Error processing batch (attempt 1/5): Request timed out.
2025-05-11 13:13:58 - INFO - [batch_card_generation_pipeline.py:641] - Card processing completed. Stats: {'successful': 92, 'pending': 0, 'failed': 8}
2025-05-11 14:21:48 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 30 cards
2025-05-11 14:21:48 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: True
2025-05-11 14:31:11 - INFO - [batch_card_generation_pipeline.py:829] - Card processing completed. Stats: {'successful': 27, 'pending': 0, 'failed': 3}
2025-05-11 14:31:11 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 30 cards
2025-05-11 14:31:11 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: True
2025-05-11 14:37:20 - INFO - [batch_card_generation_pipeline.py:829] - Card processing completed. Stats: {'successful': 28, 'pending': 0, 'failed': 2}
2025-05-11 14:37:20 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 30 cards
2025-05-11 14:37:20 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: True
2025-05-11 14:41:24 - INFO - [batch_card_generation_pipeline.py:829] - Card processing completed. Stats: {'successful': 28, 'pending': 0, 'failed': 2}
2025-05-11 14:41:24 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 30 cards
2025-05-11 14:41:24 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: True
2025-05-11 15:03:58 - INFO - [batch_card_generation_pipeline.py:829] - Card processing completed. Stats: {'successful': 28, 'pending': 0, 'failed': 2}
2025-05-12 00:09:56 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 300 cards
2025-05-12 00:09:56 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: False
2025-05-12 01:52:44 - INFO - [batch_card_generation_pipeline.py:829] - Card processing completed. Stats: {'successful': 288, 'pending': 0, 'failed': 12}
2025-05-12 01:52:44 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 300 cards
2025-05-12 01:52:44 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: False
2025-05-12 02:48:02 - INFO - [batch_card_generation_pipeline.py:829] - Card processing completed. Stats: {'successful': 291, 'pending': 0, 'failed': 9}
2025-05-12 02:48:02 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 300 cards
2025-05-12 02:48:02 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: False
2025-05-12 03:31:02 - INFO - [batch_card_generation_pipeline.py:829] - Card processing completed. Stats: {'successful': 293, 'pending': 0, 'failed': 7}
2025-05-12 03:31:02 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 300 cards
2025-05-12 03:31:02 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: False
2025-05-12 03:55:28 - INFO - [batch_card_generation_pipeline.py:829] - Card processing completed. Stats: {'successful': 295, 'pending': 0, 'failed': 5}
2025-05-12 09:09:03 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 300 cards
2025-05-12 09:09:03 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: True
2025-05-12 09:21:02 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 300 cards
2025-05-12 09:21:02 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: True
2025-05-12 10:59:28 - INFO - [batch_card_generation_pipeline.py:829] - Card processing completed. Stats: {'successful': 289, 'pending': 0, 'failed': 11}
2025-05-12 10:59:28 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 300 cards
2025-05-12 10:59:28 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: True
2025-05-12 14:05:34 - INFO - [batch_card_generation_pipeline.py:829] - Card processing completed. Stats: {'successful': 288, 'pending': 0, 'failed': 12}
2025-05-12 14:05:34 - INFO - [batch_card_generation_pipeline.py:669] - Starting card processing with 300 cards
2025-05-12 14:05:34 - INFO - [batch_card_generation_pipeline.py:670] - Using MoA: True
2025-05-12 15:07:15 - ERROR - [batch_card_generation_pipeline.py:734] - Error processing batch (attempt 1/10): Request timed out.
2025-05-12 17:12:39 - ERROR - [batch_card_generation_pipeline.py:734] - Error processing batch (attempt 1/10): Request timed out.
2025-05-12 17:43:50 - ERROR - [batch_card_generation_pipeline.py:734] - Error processing batch (attempt 1/10): Request timed out.
2025-05-12 21:09:24 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 10 cards
2025-05-12 21:09:24 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 21:09:24 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 21:09:24 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 21:11:47 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 10, 'pending': 0, 'failed': 0}
2025-05-12 21:13:59 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 10 cards
2025-05-12 21:13:59 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 21:13:59 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 21:13:59 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 21:17:07 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 10, 'pending': 0, 'failed': 0}
2025-05-12 21:17:07 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 10 cards
2025-05-12 21:17:07 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 21:17:07 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 21:17:07 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 21:20:24 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 10, 'pending': 0, 'failed': 0}
2025-05-12 21:20:24 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 10 cards
2025-05-12 21:20:24 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 21:20:24 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 21:20:24 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 21:23:25 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 10, 'pending': 0, 'failed': 0}
2025-05-12 21:23:25 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 10 cards
2025-05-12 21:23:25 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 21:23:25 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 21:23:25 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 21:27:16 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 10, 'pending': 0, 'failed': 0}
2025-05-12 21:30:52 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 30 cards
2025-05-12 21:30:52 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 21:30:52 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 21:30:52 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 21:42:07 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 29, 'pending': 0, 'failed': 1}
2025-05-12 21:42:07 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 30 cards
2025-05-12 21:42:07 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 21:42:07 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 21:42:07 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 21:53:17 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 29, 'pending': 0, 'failed': 1}
2025-05-12 21:53:17 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 30 cards
2025-05-12 21:53:17 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 21:53:17 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 21:53:17 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 22:04:34 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 28, 'pending': 0, 'failed': 2}
2025-05-12 22:04:34 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 30 cards
2025-05-12 22:04:34 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 22:04:34 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 22:04:34 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 22:14:54 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 29, 'pending': 0, 'failed': 1}
2025-05-12 22:25:15 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 22:25:15 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 22:25:15 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 22:25:15 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 22:27:28 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 4, 'pending': 0, 'failed': 1}
2025-05-12 22:27:28 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 22:27:28 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 22:27:28 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 22:27:28 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 22:29:31 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 5, 'pending': 0, 'failed': 0}
2025-05-12 22:29:31 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 22:29:31 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 22:29:31 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 22:29:31 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 22:31:37 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 4, 'pending': 0, 'failed': 1}
2025-05-12 22:31:37 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 22:31:37 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 22:31:37 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 22:31:37 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 22:33:44 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 4, 'pending': 0, 'failed': 1}
2025-05-12 22:47:06 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 22:47:06 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 22:47:06 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 22:47:06 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 22:49:14 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 4, 'pending': 0, 'failed': 1}
2025-05-12 22:49:14 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 22:49:14 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 22:49:14 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 22:49:14 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 22:51:19 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 4, 'pending': 0, 'failed': 1}
2025-05-12 22:51:19 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 22:51:19 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 22:51:19 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 22:51:19 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 22:53:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 4, 'pending': 0, 'failed': 1}
2025-05-12 22:53:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 22:53:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 22:53:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 22:53:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 22:56:31 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 4, 'pending': 0, 'failed': 1}
2025-05-12 23:12:18 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 23:12:18 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 23:12:18 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 23:12:18 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 23:13:39 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 5, 'pending': 0, 'failed': 0}
2025-05-12 23:13:39 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 23:13:39 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 23:13:39 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 23:13:39 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 23:16:32 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 4, 'pending': 0, 'failed': 1}
2025-05-12 23:16:32 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 23:16:32 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 23:16:32 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 23:16:32 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 23:17:41 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 5, 'pending': 0, 'failed': 0}
2025-05-12 23:17:41 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 5 cards
2025-05-12 23:17:41 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 23:17:41 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 23:17:41 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 23:18:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:464] - Card processing completed. Stats: {'successful': 5, 'pending': 0, 'failed': 0}
2025-05-12 23:33:27 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 30 cards
2025-05-12 23:33:27 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 23:33:27 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 23:33:27 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 23:44:44 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 28, 'pending': 0, 'failed': 2}
2025-05-12 23:44:44 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 30 cards
2025-05-12 23:44:44 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 23:44:44 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 23:44:44 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-12 23:54:58 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 28, 'pending': 0, 'failed': 2}
2025-05-12 23:54:58 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 30 cards
2025-05-12 23:54:58 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-12 23:54:58 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-12 23:54:58 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-13 00:04:02 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 30, 'pending': 0, 'failed': 0}
2025-05-13 00:04:02 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 30 cards
2025-05-13 00:04:02 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-13 00:04:02 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-13 00:04:02 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-13 00:14:17 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 28, 'pending': 0, 'failed': 2}
2025-05-13 00:19:51 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 300 cards
2025-05-13 00:19:51 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-13 00:19:51 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-13 00:19:51 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-13 01:52:30 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/10):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-13 02:22:40 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 2/10):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-13 02:52:50 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 3/10):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-13 03:54:40 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/10):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-13 04:55:25 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 293, 'pending': 0, 'failed': 7}
2025-05-13 04:55:25 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 300 cards
2025-05-13 04:55:25 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-13 04:55:25 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-13 04:55:25 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-13 05:22:29 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 289, 'pending': 0, 'failed': 11}
2025-05-13 05:22:29 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 300 cards
2025-05-13 05:22:29 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-13 05:22:29 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-13 05:22:29 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-13 05:48:55 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 291, 'pending': 0, 'failed': 9}
2025-05-13 05:48:55 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 300 cards
2025-05-13 05:48:55 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-13 05:48:55 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-13 05:48:55 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-13 06:16:14 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 290, 'pending': 0, 'failed': 10}
2025-05-23 13:07:54 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 500 cards
2025-05-23 13:07:54 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-23 13:07:54 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-23 13:07:54 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-23 13:13:54 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 500 cards
2025-05-23 13:13:54 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-23 13:13:54 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-23 13:13:54 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-23 16:23:43 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 481, 'pending': 0, 'failed': 19}
2025-05-23 16:23:43 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 500 cards
2025-05-23 16:23:43 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-23 16:23:43 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-23 16:23:43 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-23 17:39:37 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 478, 'pending': 0, 'failed': 22}
2025-05-23 17:39:37 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 500 cards
2025-05-23 17:39:37 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-23 17:39:37 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-23 17:39:37 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-23 18:24:51 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 487, 'pending': 0, 'failed': 13}
2025-05-23 18:24:51 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 500 cards
2025-05-23 18:24:51 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-23 18:24:51 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-23 18:24:51 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-23 21:25:50 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 472, 'pending': 0, 'failed': 28}
2025-05-23 21:25:50 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 500 cards
2025-05-23 21:25:50 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-23 21:25:50 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-23 21:25:50 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-23 22:41:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 479, 'pending': 0, 'failed': 21}
2025-05-23 22:41:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 500 cards
2025-05-23 22:41:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-23 22:41:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-23 22:41:45 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-24 00:17:09 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 00:58:50 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1046, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 05:14:16 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 05:15:30 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 483, 'pending': 0, 'failed': 17}
2025-05-24 05:15:30 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 500 cards
2025-05-24 05:15:30 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-24 05:15:30 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-24 05:15:30 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-24 08:14:43 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 473, 'pending': 0, 'failed': 27}
2025-05-24 08:14:43 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 500 cards
2025-05-24 08:14:43 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-24 08:14:44 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-24 08:14:44 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-24 09:15:02 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: AttributeError
Error message: 'NoneType' object has no attribute 'strip'
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 410, in process_cards_batch
    generated_cards = generate_batch_unified_cards(
        source_batch,
    ...<5 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 216, in generate_batch_unified_cards
    response_dict = json.loads(response.choices[0].message.content.strip())
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strip'

2025-05-24 09:29:26 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 479, 'pending': 0, 'failed': 21}
2025-05-24 09:29:26 - INFO - [batch_card_generation_pipeline_with_endpoints.py:374] - Starting card processing with 500 cards
2025-05-24 09:29:26 - INFO - [batch_card_generation_pipeline_with_endpoints.py:375] - Using MoA: False
2025-05-24 09:29:26 - INFO - [batch_card_generation_pipeline_with_endpoints.py:383] - Using endpoint: https://pectoazureopenai.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2023-03-15-preview
2025-05-24 09:29:26 - INFO - [batch_card_generation_pipeline_with_endpoints.py:384] - Using model: gpt-4o
2025-05-24 10:11:07 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1046, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 10:42:31 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 11:58:02 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 12:39:26 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1046, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 13:30:19 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 15:38:13 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1046, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 16:52:04 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 136, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1046, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 17:58:09 - ERROR - [batch_card_generation_pipeline_with_endpoints.py:453] - Error processing batch (attempt 1/20):
Error type: APITimeoutError
Error message: Request timed out.
Traceback:
Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 101, in handle_request
    raise exc
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_sync\connection.py", line 156, in _connect
    stream = stream.start_tls(**kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_backends\sync.py", line 154, in start_tls
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout: _ssl.c:1003: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 993, in _request
    response = self._client.send(
        request,
        stream=stream or self._should_stream_response_body(request=request),
        **kwargs,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 916, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 944, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 981, in _send_handling_redirects
    response = self._send_single_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1016, in _send_single_request
    response = transport.handle_request(request)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout: _ssl.c:1003: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 421, in process_cards_batch
    evaluation_results = evaluate_batch_unified_cards(
        source_batch,
    ...<6 lines>...
        endpoint=endpoint_url  # Используем URL эндпоинта
    )
  File "c:\Users\Арман\OneDrive\Рабочий стол\ШАД\3 семестр\Проектный курс\llm_content_generation\content_generation\vocab_preparation\batch_card_generation_pipeline_with_endpoints.py", line 326, in evaluate_batch_unified_cards
    response = client.chat.completions.create(
        model=model,
    ...<4 lines>...
        ]
    )
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\resources\chat\completions.py", line 829, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<39 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1280, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 957, in request
    return self._request(
           ~~~~~~~~~~~~~^
        cast_to=cast_to,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        retries_taken=retries_taken,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1002, in _request
    return self._retry_request(
           ~~~~~~~~~~~~~~~~~~~^
        input_options,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        response_headers=None,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1095, in _retry_request
    return self._request(
           ~~~~~~~~~~~~~^
        options=options,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        stream_cls=stream_cls,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\Арман\AppData\Local\Programs\Python\Python313\Lib\site-packages\openai\_base_client.py", line 1012, in _request
    raise APITimeoutError(request=request) from err
openai.APITimeoutError: Request timed out.

2025-05-24 18:15:19 - INFO - [batch_card_generation_pipeline_with_endpoints.py:467] - Card processing completed. Stats: {'successful': 486, 'pending': 0, 'failed': 14}
